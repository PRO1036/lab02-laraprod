---
title: "Lab 02 - Plastic waste"
author: "Lara Prodanovic"
date: "18/09/2025"
output: github_document
---

## Questions Warm up
Quelles sont les quatre zones présentes sur RStudio ?

- Les quatre zones qui constituent la fenêtre RStudion sont les suivantes : une zone 'source' où l'on peut retrouver le code sur lequel on travaille, une zone 'environnement' où l'on retrouve notamment les options pour le Git, une zone 'console' avec la console et le terminal et une dernière zone où l'on retrouve les différents fichiers en rapport avec notre projet ainsi que d'autres fonctionnalités. 

Combien y a-t-il d’observations dans le jeu de données ? 

- En regardant la zone 'environnement' on peut voir qu'il y a 240 observations dans le jeu de données

En regardant les données, vous voyez que certaines cellules ont comme valeurs NA. Que cela signifie-t-il ?

- NA signifie 'Non Available' donc que l'information nécessaire n'apparaît pas dans le jeu de données. 

## Chargement des packages et des données

```{r load-packages, message=FALSE}
library(tidyverse) 
```

```{r load-data, message=FALSE}
plastic_waste <- read_csv("data/plastic-waste.csv")
```

Commençons par filtrer les données pour retirer le point représenté par Trinité et Tobago (TTO) qui est un outlier.

```{r filter-data, message=FALSE}
plastic_waste <- plastic_waste %>%
  filter(plastic_waste_per_cap < 3.5)
```


## Exercices

### Exercise 1

```{r plastic-waste-continent}

ggplot(plastic_waste, aes(x = plastic_waste_per_cap)) +
  geom_histogram(binwidth = 0.4) +
  facet_grid(~continent) +
  labs (title = "Distribution des quantités de déchets par habitant sur divers continents", x = "Quantité de déchets plastiques par habitant en kg/jour", y = "Nombre de pays")

```

Que pouvez-vous dire de la comparaison des continents, en terme de déchets plastiques ?

- L'Europe et l'Amérique du Nord semblent être les continents qui polluent le plus en grande quantité. L'Océanie et l'Amérique du Sud polluent peu alors que les habitants d'Asie et d'Afrique sont très nombreux à polluer très peu,

### Exercise 2

```{r plastic-waste-density}

ggplot(plastic_waste, aes(x = plastic_waste_per_cap, fill = continent)) +
  geom_density(alpha = 0.75, colour = NA) +
  labs (title = "Graphe illustrant la quantité de déchets produits selon le continent du pays", x = "Quantité de déchets plastiques par habitant en kg/jour", y = "Densité", fill = "Continents")

```

Décrivez pourquoi le reglage de la couleur (color et fill) et le réglage de la transparence (alpha) ne se trouvent pas au même endroit ? L’un étant réglé dans aes et l’autre dans geom_density()

- Cela peut s'expliquer par le fait que les fonctions geom_ servent à fixer des paramètres constants alors que aes dépend de la variable. On attribue une couleur (remplie) différente à chaque continent alors que le paramètre alpha est identique peu importe le continent. 

### Exercise 3

Boxplot:

```{r plastic-waste-boxplot}

ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap)) +
  geom_boxplot() + 
  labs(title = "Boxplot de la quantité de déchets plastiques produits en fonction du continent", x = "Continent", y = "Quantité de déchets plastiques par habitant en kg/jour")

```

Violin plot:

```{r plastic-waste-violin}

ggplot(plastic_waste, aes(x = continent, y = plastic_waste_per_cap)) +
  geom_violin() +
  labs(title = "Violin plot de la quantité de déchets plastiques produits en fonction du continent", x = "Continent", y = "Quantité de déchets plastiques par habitant en kg/jour")


```

Qu’est ce que les violin plots permettent de voir sur les données que les boxplot ne permettent pas ?

- Les boxplots sont construits à partir de points statistiques tels que la moyenne, les quartiles, etc... Ils ne montrent donc pas la répartition complète des données mais offrent plutôt une représentation synthétique. A l'inverse, les violins permettent d'illustrer la distribution des données de manière beaucoup plus complète. 

### Exercise 4


```{r plastic-waste-mismanaged}

ggplot(plastic_waste, aes(x = plastic_waste_per_cap, y = mismanaged_plastic_waste_per_cap, color = continent)) +
  geom_point() +
  labs(title = "Quantité de déchets non gérés en fonction des déchets produits par habitant", x = "Quantité de déchets plastiques par habitant en kg/jour", y = "Quantité de déchets plastiques non gérés par habitant en kg/jour", colour = "Continents")

```

Voyez-vous une tendance ?

- Les pays d'Afrique et d'Asie, qui constituent généralement des pays pauvres, sont ceux qui ont le plus de déchets non gérés, ainsi que l'Océanie. Cependant, les pays d'Afrique ont tendance à polluer beaucoup moins que les pays d'autres continents. 

### Exercise 5


```{r plastic-waste-population-total}

ggplot(plastic_waste, aes(y = plastic_waste_per_cap, x = total_pop)) +
  geom_point() +
  labs (title = "Quantité de déchets plastiques non gérés en fonction de la population totale", x = "Population totale selon Gapminder", y = "Quantité de déchets plastiques non gérés par habitant en kg/jour")

```

```{r plastic-waste-population-coastal}

ggplot(plastic_waste, aes(x = coastal_pop, y = plastic_waste_per_cap)) +
  geom_point() +
  labs(title = "Quantité de déchets plastiques non gérés en fonction de la population côtière", x = "Nombres de personnes vivant sur des côtes", y = "Quantité de déchets plastiques non gérés par habitant en kg/jour")

```

Est-ce qu’il semble y avoir une relation plus forte pour l’une des paires de variables ?

- Il ne semble pas y avoir une différence significative entre la relation du premier graphe et du second graphe. 

## Conclusion

Recréez la visualisation:

```{r recreate-viz}
plastic_waste_coastal <- plastic_waste %>% 
  mutate(coastal_pop_prop = coastal_pop / total_pop) %>%
  filter(plastic_waste_per_cap < 3)

ggplot(plastic_waste_coastal, aes(x = coastal_pop_prop, y = plastic_waste_per_cap, colour = continent)) +
  geom_point() +
  geom_smooth(aes(x = coastal_pop_prop, y = plastic_waste_per_cap),
              method = "loess", se = TRUE, color = "black") +
  labs (title = "Quantité de déchets plastiques vs Proportion de la population côtière", x = "Proportion de la population côtière (Coastal / total population)", y = "Nombre de déchets plastiques par habitant", colour = "Continent") 
```
